import { Component, Input, Output, EventEmitter, ViewChild, ElementRef, ContentChild } from '@angular/core';
import * as moment from 'moment';
import { FormControl } from '@angular/forms';
import { debounceTime, distinctUntilChanged } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "ngx-moment";
export class NgxTableSchedulerComponent {
    constructor() {
        this.resources = [];
        this.resourceFields = [];
        this.items = [];
        this.showSearchFilter = false;
        this.itemAssigned = new EventEmitter();
        this.itemDeleted = new EventEmitter();
        this.itemLeft = 0;
        this.tableRows = [];
        this.itemHeaders = [];
        this.filteredResources = [];
        this.searchCtrl = new FormControl();
        this.selectedItem = null;
    }
    set filter(filter) {
        this.searchCtrl.setValue(filter);
        if (this.tableRows) {
            this.filterResources(filter);
            this.generateTable();
        }
    }
    ngOnDestroy() {
    }
    ngOnInit() {
        this.handleFormSearch();
        this.filteredResources = this.resources;
        this.generateTable();
    }
    ngOnChanges(changes) {
        console.log(moment().toISOString());
        let shouldGenerate = false;
        if (changes['startOfCalendar'] && !(this.startOfCalendar instanceof moment)) {
            this.startOfCalendar = moment(this.startOfCalendar);
        }
        if (changes['endOfCalendar'] && !(this.endOfCalendar instanceof moment)) {
            this.endOfCalendar = moment(this.endOfCalendar);
        }
        if (changes['items']) {
            shouldGenerate = true;
        }
        if (changes['resources']) {
            this.filteredResources = this.resources;
            shouldGenerate = true;
        }
        if (shouldGenerate)
            this.generateTable();
    }
    prepareAssignItem(item) {
        this.items = this.items.filter(i => !i.temporary);
        this.noAvailableSlots = false;
        if (this.selectedItem?.id === item.id) {
            this.selectedItem = null;
            this.generateTable();
            return;
        }
        this.selectedItem = item;
        for (const resource of this.resources) {
            const resourceItems = this.items.filter(x => x.resource_id === resource.id);
            let qualifies = true;
            for (const resourceItem of resourceItems) {
                if (moment(resourceItem.start_date).isBefore(item.end_date) && moment(resourceItem.end_date).isAfter(item.start_date))
                    qualifies = false;
            }
            if (!qualifies)
                continue;
            this.items.push({
                ...item,
                resource_id: resource.id,
                temporary: true,
                color: 'rgb(162 155 178 / 62%)',
            });
        }
        const temporaryItem = this.items.filter(x => x.temporary);
        if (temporaryItem.length === 0) {
            this.noAvailableSlots = true;
        }
        this.generateTable();
        if (this.searchCtrl.value) {
            this.filterResources(this.searchCtrl.value);
        }
        // Scroll to event
        const differenceInPixel = moment(item.start_date).diff(this.startOfCalendar, 'days') * this.itemWidth;
        setTimeout(() => {
            this.table.nativeElement.scrollLeft = differenceInPixel;
        }, 50);
    }
    itemClick(item) {
        if (!item.temporary)
            return;
        this.items = this.items.filter(i => !i.temporary);
        this.items.find(i => i.id === item?.id).resource_id = item?.resource_id;
        console.log('i', item);
        this.generateTable();
        this.itemAssigned.emit(item);
    }
    generateTable() {
        if (this.searchCtrl.value) {
            this.filterResources(this.searchCtrl.value);
        }
        this.tableRows = [];
        for (const resource of this.filteredResources) {
            const cells = [];
            for (const field of this.resourceFields) {
                cells.push({
                    type: 'resource',
                    resource: resource,
                    text: resource[field],
                });
            }
            this.resourceWidth = 100 * this.resourceFields.length;
            this.tableRows.push({ resource: resource, items: cells });
        }
        this.itemHeaders = [];
        for (const i = this.startOfCalendar.clone(); i.isBefore(this.endOfCalendar); i.add(1, "day")) {
            this.itemHeaders.push({
                date: i.clone(),
                dayOfWeek: i.day(),
                currentDate: i.date(),
            });
        }
        for (const row of this.tableRows) {
            for (const header of this.itemHeaders) {
                const cell = {
                    type: 'item',
                    resource: row.resource,
                    header: header,
                    items: [],
                };
                row.items.push(cell);
                const items = this.items.filter(x => x.resource_id === row?.resource?.id && (header.date.isSame(x.start_date, 'day') || (header.date.isSame(this.startOfCalendar, 'day') && this.startOfCalendar.isAfter(x.start_date))));
                for (const item of items) {
                    const duration = moment.duration(item.end_date.diff(item.start_date));
                    const hours = duration.asHours();
                    let addPixels = 0;
                    if (moment(item.end_date).isAfter(this.endOfCalendar)) {
                        const offsetDuration = moment.duration(this.endOfCalendar.diff(item.end_date));
                        const offsetHours = offsetDuration.asHours();
                        addPixels = offsetHours / 24 * this.itemWidth;
                    }
                    let substract = 0;
                    if (this.startOfCalendar.isAfter(item.start_date)) {
                        const inHours = moment.duration(this.startOfCalendar.diff(item.start_date));
                        const diffHours = inHours.asHours();
                        substract = diffHours / 24 * this.itemWidth;
                    }
                    // @ts-ignore
                    cell.items.push({
                        ...item,
                        _width: ((hours / 24) * this.itemWidth) + addPixels - substract,
                        _left: substract ? this.itemLeft : this.itemWidth / 24 * moment(item.start_date).get("hours"),
                    });
                }
            }
        }
        this.unassignedItems = this.items.filter(x => x.resource_id == null).filter(x => x.text === "HOLD");
    }
    handleFormSearch() {
        this.searchCtrl.valueChanges
            .pipe(debounceTime(125), distinctUntilChanged())
            .subscribe(value => {
            this.filterResources(value);
            this.generateTable();
        });
    }
    // @ts-ignore
    filterResources(value) {
        if (value === null) {
            return true;
        }
        this.filteredResources = this.resources.filter(resource => {
            const { Category, Code, id, Number } = resource;
            const resourceInformation = (Category + Code + id + Number).toLowerCase();
            return resourceInformation.includes(value?.toLowerCase());
        });
    }
}
NgxTableSchedulerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NgxTableSchedulerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
NgxTableSchedulerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.11", type: NgxTableSchedulerComponent, selector: "ngx-table-scheduler", inputs: { startOfCalendar: "startOfCalendar", endOfCalendar: "endOfCalendar", currentDate: "currentDate", unassignedItems: "unassignedItems", defaultValue: "defaultValue", currentHours: "currentHours", resources: "resources", resourceFields: "resourceFields", items: "items", showSearchFilter: "showSearchFilter", itemWidth: "itemWidth", itemHeight: "itemHeight", filter: "filter", noAvailableSlots: "noAvailableSlots" }, outputs: { itemAssigned: "itemAssigned", itemDeleted: "itemDeleted" }, queries: [{ propertyName: "itemTemplateRef", first: true, predicate: ["itemTemplate"], descendants: true }, { propertyName: "itemContentTemplateRef", first: true, predicate: ["itemContentTemplate"], descendants: true }], viewQueries: [{ propertyName: "table", first: true, predicate: ["table"], descendants: true, read: ElementRef }], usesOnChanges: true, ngImport: i0, template: "<div class=\"table-outer\">\n  <div class=\"table-inner\" #table [ngStyle]=\"{'margin-left.px':resourceWidth}\">\n    <table>\n      <tr>\n        <th *ngFor=\"let field of resourceFields\" class=\"resource-header\">{{field}}</th>\n        <th *ngFor=\"let date of itemHeaders\" class=\"item-header\" [style.width.px]=\"itemWidth\"\n            [class.currentDay]=\"date.currentDate == currentDate.getDate()\"\n            [class.weekend]=\"date.dayOfWeek==0 || date.dayOfWeek==6\">\n          {{ date.date   | amDateFormat : ' MMM  d '}}\n        </th>\n      </tr>\n\n      <tr *ngFor=\"let row of tableRows\">\n        <td *ngFor=\"let cell of row.items\"\n            [class.resource-cell]=\"cell.type == 'resource'\"\n            [class.item-cell]=\"cell.type == 'item'\"\n            [class.weekend]=\"cell?.header?.dayOfWeek == 0 || cell?.header?.dayOfWeek == 6\"\n            [class.currentDay]=\"cell?.header?.currentDate == currentDate.getDate()\"\n            [style.width.px]=\"cell.type == 'item' && itemWidth \"\n            [style.height.px]=\"(cell.type ==='item' || cell.type === 'resource') && itemHeight\">\n          <span *ngIf=\"!cell.items || cell.items.length == 0\">{{cell.text}}</span>\n          <span>\n                          <ng-template #defaultItemTemplateContent let-item>\n                <div *ngIf=\"item.temporary\" class=\"check icon\"></div>\n                            {{item?.id == selectedItem?.id && row.resource?.id == selectedItem?.resource_id ? '' : item?.text }}\n              </ng-template>\n              <ng-template #defaultItemTemplate let-item let-i>\n                <div class=\"default-item\"\n                     (click)=\"itemClick(item)\"\n                     [class.selected-item]=\"item?.id == selectedItem?.id  && row.resource.id == selectedItem?.resource_id\"\n                     [ngStyle]=\"{ 'left.px': item._left, 'width.px': item._width, 'background-color': item?.color}\">\n                    <ng-container\n                      [ngTemplateOutlet]=\"itemContentTemplateRef || defaultItemTemplateContent\"\n                      [ngTemplateOutletContext]=\"{ $implicit: item, index: i}\">\n                   </ng-container>\n                </div>\n              </ng-template>\n              <ng-container\n                *ngFor=\"let item of cell.items;let i=index\"\n                [ngTemplateOutlet]=\"itemTemplateRef || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: item, index: i}\">\n             </ng-container>\n         </span>\n        </td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"row\">\n    <div class=\"col text-right mr-2\">\n      {{this.startOfCalendar  | amDateFormat}}\n      <svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M14 16.94V12.94H5.08L5.05 10.93H14V6.94L19 11.94Z\"/>\n      </svg>\n      {{this.endOfCalendar  | amDateFormat }}\n    </div>\n  </div>\n</div>\n\n<div class=\"no-car-exists\" *ngIf=\"filteredResources.length == 0\">\n  {{this.filteredResources.length == 0 ? \"No results found with this car resource\" : \"\"}}\n</div>\n", styles: [".table-outer{position:relative;border:1px solid #ccc}.table-outer .table-inner{overflow-x:scroll;overflow-y:visible;border-left:1px solid #ccc}.table-outer .table-inner table{table-layout:fixed;width:100%;border-collapse:collapse;border-spacing:0;border-radius:20px}.table-outer .table-inner table td,.table-outer .table-inner table th{border-top:unset;vertical-align:top;text-align:center;border-bottom:1px solid #ccc;padding:10px 0;border-left:1px solid #ccc}.table-outer .table-inner table td td:hover,.table-outer .table-inner table th td:hover{background-color:#ff0}.table-outer .table-inner table td:first-child,.table-outer .table-inner table th:first-child{border-left:0px!important}.table-outer .table-inner table .resource-cell,.table-outer .table-inner table .item-cell{height:45px;line-height:25px}.table-outer .table-inner table .resource-header,.table-outer .table-inner table .resource-cell{position:absolute;width:100px}.table-outer .table-inner table .resource-header,.table-outer .table-inner table .resource-cell,.table-outer .table-inner table .item-header{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table-outer .table-inner table .resource-header:nth-child(1),.table-outer .table-inner table .resource-cell:nth-child(1){left:0}.table-outer .table-inner table .resource-header:nth-child(2),.table-outer .table-inner table .resource-cell:nth-child(2){left:100px}.table-outer .table-inner table .resource-header:nth-child(3),.table-outer .table-inner table .resource-cell:nth-child(3){left:200px}.table-outer .table-inner table .resource-header:nth-child(4),.table-outer .table-inner table .resource-cell:nth-child(4){left:300px}.table-outer .table-inner table .item-cell,.table-outer .table-inner table .item-header{width:50px;position:relative}.table-outer .table-inner table .item-cell .event{position:absolute;left:0;height:20px;z-index:999;top:calc(50% - 10px)}.reserved-resource{width:117px;left:25%;background-color:#00f}.weekend{background-color:#ffe1064a}.currentDay{background-color:#b2fad4}.paragraph-style{color:#fff}.check.icon{color:#fff;position:absolute;margin-left:3px;margin-top:4px;width:14px;height:8px;border-bottom:solid 2px currentColor;border-left:solid 2px currentColor;transform:rotate(-45deg)}.float-container{display:flex;margin-bottom:10px}.flex-container{border-collapse:collapse;width:25%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;gap:3px}.unassigned-item{flex:3 0;overflow:auto}.size-item-list{background-color:#b0e0e6;transition:background-color .5s;border:1px solid rgba(0,0,0,.125);border-radius:8px;padding:10px;text-overflow:ellipsis;min-width:305px;float:left;font-size:12px;position:relative;display:block}.size-item-list:hover{background-color:#66f115ab}.form-control:focus{border-color:#68efdbcc;box-shadow:0 1px 1px #00000013 inset,0 0 8px #68dbef99;outline:0 none}.input-search{width:50%;box-sizing:border-box;border:2px solid #ccc;border-radius:8px;background-image:url(/assets/img/icons8-search-30.png);background-position:7px 7px;background-repeat:no-repeat;font-size:16px;background-color:#fff;padding:12px 20px 12px 40px;transition:width .5s ease-in-out}.input-search:focus{width:100%;border-color:#59aff6cc;box-shadow:0 1px 1px #00000013 inset,0 0 8px #68efeb99;outline:0 none}.search-icon{width:31px;height:47px}.search-input{flex:1 0}.no-car-exists{background:#c7c5c5;padding:10px;border-radius:10px;text-align:center;margin-top:30px}.list-style{flex-direction:row;gap:7px;display:flex;padding-left:0;margin-bottom:0}.assign-button{color:#fff;background-color:#0069d9;border-color:#0062cc;margin-left:3px;border-radius:5px;box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.delete-icon{width:24px;height:20px;float:right;cursor:pointer}.delete-icon:hover{transition-timing-function:ease-out;transition:.25s;transform:translateY(-5px)}table .item-cell ::ng-deep .default-item{position:absolute;left:0;height:20px;z-index:999;top:calc(50% - 10px)}.text-right{text-align:right}\n"], directives: [{ type: i1.NgStyle, selector: "[ngStyle]", inputs: ["ngStyle"] }, { type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet"] }], pipes: { "amDateFormat": i2.DateFormatPipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.11", ngImport: i0, type: NgxTableSchedulerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ngx-table-scheduler', template: "<div class=\"table-outer\">\n  <div class=\"table-inner\" #table [ngStyle]=\"{'margin-left.px':resourceWidth}\">\n    <table>\n      <tr>\n        <th *ngFor=\"let field of resourceFields\" class=\"resource-header\">{{field}}</th>\n        <th *ngFor=\"let date of itemHeaders\" class=\"item-header\" [style.width.px]=\"itemWidth\"\n            [class.currentDay]=\"date.currentDate == currentDate.getDate()\"\n            [class.weekend]=\"date.dayOfWeek==0 || date.dayOfWeek==6\">\n          {{ date.date   | amDateFormat : ' MMM  d '}}\n        </th>\n      </tr>\n\n      <tr *ngFor=\"let row of tableRows\">\n        <td *ngFor=\"let cell of row.items\"\n            [class.resource-cell]=\"cell.type == 'resource'\"\n            [class.item-cell]=\"cell.type == 'item'\"\n            [class.weekend]=\"cell?.header?.dayOfWeek == 0 || cell?.header?.dayOfWeek == 6\"\n            [class.currentDay]=\"cell?.header?.currentDate == currentDate.getDate()\"\n            [style.width.px]=\"cell.type == 'item' && itemWidth \"\n            [style.height.px]=\"(cell.type ==='item' || cell.type === 'resource') && itemHeight\">\n          <span *ngIf=\"!cell.items || cell.items.length == 0\">{{cell.text}}</span>\n          <span>\n                          <ng-template #defaultItemTemplateContent let-item>\n                <div *ngIf=\"item.temporary\" class=\"check icon\"></div>\n                            {{item?.id == selectedItem?.id && row.resource?.id == selectedItem?.resource_id ? '' : item?.text }}\n              </ng-template>\n              <ng-template #defaultItemTemplate let-item let-i>\n                <div class=\"default-item\"\n                     (click)=\"itemClick(item)\"\n                     [class.selected-item]=\"item?.id == selectedItem?.id  && row.resource.id == selectedItem?.resource_id\"\n                     [ngStyle]=\"{ 'left.px': item._left, 'width.px': item._width, 'background-color': item?.color}\">\n                    <ng-container\n                      [ngTemplateOutlet]=\"itemContentTemplateRef || defaultItemTemplateContent\"\n                      [ngTemplateOutletContext]=\"{ $implicit: item, index: i}\">\n                   </ng-container>\n                </div>\n              </ng-template>\n              <ng-container\n                *ngFor=\"let item of cell.items;let i=index\"\n                [ngTemplateOutlet]=\"itemTemplateRef || defaultItemTemplate\"\n                [ngTemplateOutletContext]=\"{ $implicit: item, index: i}\">\n             </ng-container>\n         </span>\n        </td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"row\">\n    <div class=\"col text-right mr-2\">\n      {{this.startOfCalendar  | amDateFormat}}\n      <svg style=\"width:24px;height:24px\" viewBox=\"0 0 24 24\">\n        <path fill=\"currentColor\" d=\"M14 16.94V12.94H5.08L5.05 10.93H14V6.94L19 11.94Z\"/>\n      </svg>\n      {{this.endOfCalendar  | amDateFormat }}\n    </div>\n  </div>\n</div>\n\n<div class=\"no-car-exists\" *ngIf=\"filteredResources.length == 0\">\n  {{this.filteredResources.length == 0 ? \"No results found with this car resource\" : \"\"}}\n</div>\n", styles: [".table-outer{position:relative;border:1px solid #ccc}.table-outer .table-inner{overflow-x:scroll;overflow-y:visible;border-left:1px solid #ccc}.table-outer .table-inner table{table-layout:fixed;width:100%;border-collapse:collapse;border-spacing:0;border-radius:20px}.table-outer .table-inner table td,.table-outer .table-inner table th{border-top:unset;vertical-align:top;text-align:center;border-bottom:1px solid #ccc;padding:10px 0;border-left:1px solid #ccc}.table-outer .table-inner table td td:hover,.table-outer .table-inner table th td:hover{background-color:#ff0}.table-outer .table-inner table td:first-child,.table-outer .table-inner table th:first-child{border-left:0px!important}.table-outer .table-inner table .resource-cell,.table-outer .table-inner table .item-cell{height:45px;line-height:25px}.table-outer .table-inner table .resource-header,.table-outer .table-inner table .resource-cell{position:absolute;width:100px}.table-outer .table-inner table .resource-header,.table-outer .table-inner table .resource-cell,.table-outer .table-inner table .item-header{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table-outer .table-inner table .resource-header:nth-child(1),.table-outer .table-inner table .resource-cell:nth-child(1){left:0}.table-outer .table-inner table .resource-header:nth-child(2),.table-outer .table-inner table .resource-cell:nth-child(2){left:100px}.table-outer .table-inner table .resource-header:nth-child(3),.table-outer .table-inner table .resource-cell:nth-child(3){left:200px}.table-outer .table-inner table .resource-header:nth-child(4),.table-outer .table-inner table .resource-cell:nth-child(4){left:300px}.table-outer .table-inner table .item-cell,.table-outer .table-inner table .item-header{width:50px;position:relative}.table-outer .table-inner table .item-cell .event{position:absolute;left:0;height:20px;z-index:999;top:calc(50% - 10px)}.reserved-resource{width:117px;left:25%;background-color:#00f}.weekend{background-color:#ffe1064a}.currentDay{background-color:#b2fad4}.paragraph-style{color:#fff}.check.icon{color:#fff;position:absolute;margin-left:3px;margin-top:4px;width:14px;height:8px;border-bottom:solid 2px currentColor;border-left:solid 2px currentColor;transform:rotate(-45deg)}.float-container{display:flex;margin-bottom:10px}.flex-container{border-collapse:collapse;width:25%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;gap:3px}.unassigned-item{flex:3 0;overflow:auto}.size-item-list{background-color:#b0e0e6;transition:background-color .5s;border:1px solid rgba(0,0,0,.125);border-radius:8px;padding:10px;text-overflow:ellipsis;min-width:305px;float:left;font-size:12px;position:relative;display:block}.size-item-list:hover{background-color:#66f115ab}.form-control:focus{border-color:#68efdbcc;box-shadow:0 1px 1px #00000013 inset,0 0 8px #68dbef99;outline:0 none}.input-search{width:50%;box-sizing:border-box;border:2px solid #ccc;border-radius:8px;background-image:url(/assets/img/icons8-search-30.png);background-position:7px 7px;background-repeat:no-repeat;font-size:16px;background-color:#fff;padding:12px 20px 12px 40px;transition:width .5s ease-in-out}.input-search:focus{width:100%;border-color:#59aff6cc;box-shadow:0 1px 1px #00000013 inset,0 0 8px #68efeb99;outline:0 none}.search-icon{width:31px;height:47px}.search-input{flex:1 0}.no-car-exists{background:#c7c5c5;padding:10px;border-radius:10px;text-align:center;margin-top:30px}.list-style{flex-direction:row;gap:7px;display:flex;padding-left:0;margin-bottom:0}.assign-button{color:#fff;background-color:#0069d9;border-color:#0062cc;margin-left:3px;border-radius:5px;box-shadow:0 8px 16px #0003,0 6px 20px #00000030}.delete-icon{width:24px;height:20px;float:right;cursor:pointer}.delete-icon:hover{transition-timing-function:ease-out;transition:.25s;transform:translateY(-5px)}table .item-cell ::ng-deep .default-item{position:absolute;left:0;height:20px;z-index:999;top:calc(50% - 10px)}.text-right{text-align:right}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { startOfCalendar: [{
                type: Input
            }], endOfCalendar: [{
                type: Input
            }], currentDate: [{
                type: Input
            }], unassignedItems: [{
                type: Input
            }], defaultValue: [{
                type: Input
            }], currentHours: [{
                type: Input
            }], resources: [{
                type: Input
            }], resourceFields: [{
                type: Input
            }], items: [{
                type: Input
            }], showSearchFilter: [{
                type: Input
            }], itemWidth: [{
                type: Input
            }], itemHeight: [{
                type: Input
            }], table: [{
                type: ViewChild,
                args: ['table', { read: ElementRef }]
            }], filter: [{
                type: Input
            }], itemTemplateRef: [{
                type: ContentChild,
                args: ["itemTemplate", { static: false }]
            }], itemContentTemplateRef: [{
                type: ContentChild,
                args: ["itemContentTemplate", { static: false }]
            }], itemAssigned: [{
                type: Output
            }], itemDeleted: [{
                type: Output
            }], noAvailableSlots: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LXRhYmxlLXNjaGVkdWxlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtY2FsZW5kYXItc2NoZWR1bGVyL3NyYy9saWIvbmd4LXRhYmxlLXNjaGVkdWxlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtY2FsZW5kYXItc2NoZWR1bGVyL3NyYy9saWIvbmd4LXRhYmxlLXNjaGVkdWxlci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULEtBQUssRUFFTCxNQUFNLEVBQ04sWUFBWSxFQUNaLFNBQVMsRUFDVCxVQUFVLEVBRVYsWUFBWSxFQUViLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sS0FBSyxNQUFNLE1BQU0sUUFBUSxDQUFDO0FBQ2pDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUMsWUFBWSxFQUFFLG9CQUFvQixFQUFDLE1BQU0sZ0JBQWdCLENBQUM7Ozs7QUFvQmxFLE1BQU0sT0FBTywwQkFBMEI7SUEwQ3JDO1FBbkNTLGNBQVMsR0FBVSxFQUFFLENBQUM7UUFDdEIsbUJBQWMsR0FBVSxFQUFFLENBQUM7UUFDM0IsVUFBSyxHQUFVLEVBQUUsQ0FBQztRQUNsQixxQkFBZ0IsR0FBWSxLQUFLLENBQUM7UUFpQmpDLGlCQUFZLEdBQXNCLElBQUksWUFBWSxFQUFFLENBQUM7UUFDckQsZ0JBQVcsR0FBc0IsSUFBSSxZQUFZLEVBQUUsQ0FBQTtRQUU3RCxhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2IsY0FBUyxHQUFVLEVBQUUsQ0FBQztRQUN0QixnQkFBVyxHQUFVLEVBQUUsQ0FBQztRQUV4QixzQkFBaUIsR0FBUSxFQUFFLENBQUM7UUFDNUIsZUFBVSxHQUFHLElBQUksV0FBVyxFQUFFLENBQUM7UUFFL0IsaUJBQVksR0FBUSxJQUFJLENB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SW5wdXQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIFZpZXdDaGlsZCxcbiAgRWxlbWVudFJlZixcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgQ29udGVudENoaWxkLFxuICBUZW1wbGF0ZVJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudCBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHtGb3JtQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtkZWJvdW5jZVRpbWUsIGRpc3RpbmN0VW50aWxDaGFuZ2VkfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmludGVyZmFjZSBSb3cge1xuICByZXNvdXJjZTogYW55O1xuICBpdGVtczogQ2VsbFtdIHwgYW55O1xufVxuXG5pbnRlcmZhY2UgQ2VsbCB7XG4gIHR5cGU6ICdpdGVtJyB8ICdyZXNvdXJjZSc7XG4gIHJlc291cmNlPzogYW55W11cbiAgaGVhZGVyPzogYW55O1xuICBpdGVtcz86IGFueVtdO1xuICB0ZXh0Pzogc3RyaW5nO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtdGFibGUtc2NoZWR1bGVyJyxcbiAgdGVtcGxhdGVVcmw6ICduZ3gtdGFibGUtc2NoZWR1bGVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJ25neC10YWJsZS1zY2hlZHVsZXIuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBOZ3hUYWJsZVNjaGVkdWxlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHN0YXJ0T2ZDYWxlbmRhcjogYW55O1xuICBASW5wdXQoKSBlbmRPZkNhbGVuZGFyOiBhbnk7XG4gIEBJbnB1dCgpIGN1cnJlbnREYXRlOiBhbnk7XG4gIEBJbnB1dCgpIHVuYXNzaWduZWRJdGVtczogYW55O1xuICBASW5wdXQoKSBkZWZhdWx0VmFsdWU6IGFueTtcbiAgQElucHV0KCkgY3VycmVudEhvdXJzOiBhbnk7XG4gIEBJbnB1dCgpIHJlc291cmNlczogYW55W10gPSBbXTtcbiAgQElucHV0KCkgcmVzb3VyY2VGaWVsZHM6IGFueVtdID0gW107XG4gIEBJbnB1dCgpIGl0ZW1zOiBhbnlbXSA9IFtdO1xuICBASW5wdXQoKSBzaG93U2VhcmNoRmlsdGVyOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGl0ZW1XaWR0aDogYW55O1xuICBASW5wdXQoKSBpdGVtSGVpZ2h0OiBhbnlcblxuICBAVmlld0NoaWxkKCd0YWJsZScsIHtyZWFkOiBFbGVtZW50UmVmfSkgcHVibGljIHRhYmxlOiBFbGVtZW50UmVmPGFueT4gfCBhbnk7XG5cbiAgQElucHV0KCkgc2V0IGZpbHRlcihmaWx0ZXI6IHN0cmluZykge1xuICAgIHRoaXMuc2VhcmNoQ3RybC5zZXRWYWx1ZShmaWx0ZXIpO1xuICAgIGlmICh0aGlzLnRhYmxlUm93cykge1xuICAgICAgdGhpcy5maWx0ZXJSZXNvdXJjZXMoZmlsdGVyKTtcbiAgICAgIHRoaXMuZ2VuZXJhdGVUYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIEBDb250ZW50Q2hpbGQoXCJpdGVtVGVtcGxhdGVcIiwge3N0YXRpYzogZmFsc2V9KSBpdGVtVGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPGFueT4gfCBhbnk7XG4gIEBDb250ZW50Q2hpbGQoXCJpdGVtQ29udGVudFRlbXBsYXRlXCIsIHtzdGF0aWM6IGZhbHNlfSkgaXRlbUNvbnRlbnRUZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8YW55PiB8IGFueTtcblxuICBAT3V0cHV0KCkgaXRlbUFzc2lnbmVkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIGl0ZW1EZWxldGVkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIGl0ZW1MZWZ0ID0gMDtcbiAgdGFibGVSb3dzOiBSb3dbXSA9IFtdO1xuICBpdGVtSGVhZGVyczogYW55W10gPSBbXTtcblxuICBmaWx0ZXJlZFJlc291cmNlczogYW55ID0gW107XG4gIHNlYXJjaEN0cmwgPSBuZXcgRm9ybUNvbnRyb2woKTtcblxuICBzZWxlY3RlZEl0ZW06IGFueSA9IG51bGw7XG4gIHJlc291cmNlV2lkdGg6IGFueTtcbiAgQElucHV0KCkgbm9BdmFpbGFibGVTbG90czogYW55O1xuXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuaGFuZGxlRm9ybVNlYXJjaCgpO1xuICAgIHRoaXMuZmlsdGVyZWRSZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlc1xuICAgIHRoaXMuZ2VuZXJhdGVUYWJsZSgpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKG1vbWVudCgpLnRvSVNPU3RyaW5nKCkpO1xuXG5cbiAgICBsZXQgc2hvdWxkR2VuZXJhdGUgPSBmYWxzZTtcbiAgICBpZiAoY2hhbmdlc1snc3RhcnRPZkNhbGVuZGFyJ10gJiYgISh0aGlzLnN0YXJ0T2ZDYWxlbmRhciBpbnN0YW5jZW9mIG1vbWVudCkpIHtcbiAgICAgIHRoaXMuc3RhcnRPZkNhbGVuZGFyID0gbW9tZW50KHRoaXMuc3RhcnRPZkNhbGVuZGFyKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZXNbJ2VuZE9mQ2FsZW5kYXInXSAmJiAhKHRoaXMuZW5kT2ZDYWxlbmRhciBpbnN0YW5jZW9mIG1vbWVudCkpIHtcbiAgICAgIHRoaXMuZW5kT2ZDYWxlbmRhciA9IG1vbWVudCh0aGlzLmVuZE9mQ2FsZW5kYXIpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1snaXRlbXMnXSkge1xuICAgICAgc2hvdWxkR2VuZXJhdGUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlc1sncmVzb3VyY2VzJ10pIHtcbiAgICAgIHRoaXMuZmlsdGVyZWRSZXNvdXJjZXMgPSB0aGlzLnJlc291cmNlcztcbiAgICAgIHNob3VsZEdlbmVyYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkR2VuZXJhdGUpXG4gICAgICB0aGlzLmdlbmVyYXRlVGFibGUoKTtcbiAgfVxuXG4gIHByZXBhcmVBc3NpZ25JdGVtKGl0ZW06IGFueSkge1xuICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zLmZpbHRlcihpID0+ICFpLnRlbXBvcmFyeSk7XG4gICAgdGhpcy5ub0F2YWlsYWJsZVNsb3RzID0gZmFsc2U7XG5cbiAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW0/LmlkID09PSBpdGVtLmlkKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICB0aGlzLmdlbmVyYXRlVGFibGUoKVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdGVkSXRlbSA9IGl0ZW07XG4gICAgZm9yIChjb25zdCByZXNvdXJjZSBvZiB0aGlzLnJlc291cmNlcykge1xuICAgICAgY29uc3QgcmVzb3VyY2VJdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKHggPT4geC5yZXNvdXJjZV9pZCA9PT0gcmVzb3VyY2UuaWQpXG4gICAgICBsZXQgcXVhbGlmaWVzID0gdHJ1ZTtcblxuICAgICAgZm9yIChjb25zdCByZXNvdXJjZUl0ZW0gb2YgcmVzb3VyY2VJdGVtcykge1xuICAgICAgICBpZiAobW9tZW50KHJlc291cmNlSXRlbS5zdGFydF9kYXRlKS5pc0JlZm9yZShpdGVtLmVuZF9kYXRlKSAmJiBtb21lbnQocmVzb3VyY2VJdGVtLmVuZF9kYXRlKS5pc0FmdGVyKGl0ZW0uc3RhcnRfZGF0ZSkpXG4gICAgICAgICAgcXVhbGlmaWVzID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghcXVhbGlmaWVzKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHRoaXMuaXRlbXMucHVzaCh7XG4gICAgICAgIC4uLml0ZW0sXG4gICAgICAgIHJlc291cmNlX2lkOiByZXNvdXJjZS5pZCxcbiAgICAgICAgdGVtcG9yYXJ5OiB0cnVlLFxuICAgICAgICBjb2xvcjogJ3JnYigxNjIgMTU1IDE3OCAvIDYyJSknLFxuXG4gICAgICB9KVxuICAgIH1cbiAgICBjb25zdCB0ZW1wb3JhcnlJdGVtID0gdGhpcy5pdGVtcy5maWx0ZXIoeCA9PiB4LnRlbXBvcmFyeSlcblxuICAgIGlmICh0ZW1wb3JhcnlJdGVtLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5ub0F2YWlsYWJsZVNsb3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmdlbmVyYXRlVGFibGUoKTtcbiAgICBpZiAodGhpcy5zZWFyY2hDdHJsLnZhbHVlKSB7XG4gICAgICB0aGlzLmZpbHRlclJlc291cmNlcyh0aGlzLnNlYXJjaEN0cmwudmFsdWUpO1xuICAgIH1cbiAgICAvLyBTY3JvbGwgdG8gZXZlbnRcbiAgICBjb25zdCBkaWZmZXJlbmNlSW5QaXhlbCA9IG1vbWVudChpdGVtLnN0YXJ0X2RhdGUpLmRpZmYodGhpcy5zdGFydE9mQ2FsZW5kYXIsICdkYXlzJykgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMudGFibGUubmF0aXZlRWxlbWVudC5zY3JvbGxMZWZ0ID0gZGlmZmVyZW5jZUluUGl4ZWw7XG4gICAgfSwgNTApO1xuICB9XG5cbiAgaXRlbUNsaWNrKGl0ZW06IGFueSkge1xuICAgIGlmICghaXRlbS50ZW1wb3JhcnkpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKGkgPT4gIWkudGVtcG9yYXJ5KTtcbiAgICB0aGlzLml0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtPy5pZCkucmVzb3VyY2VfaWQgPSBpdGVtPy5yZXNvdXJjZV9pZDtcbiAgICBjb25zb2xlLmxvZygnaScsIGl0ZW0pXG5cbiAgICB0aGlzLmdlbmVyYXRlVGFibGUoKTtcbiAgICB0aGlzLml0ZW1Bc3NpZ25lZC5lbWl0KGl0ZW0pO1xuICB9XG5cbiAgcHVibGljIGdlbmVyYXRlVGFibGUoKSB7XG4gICAgaWYgKHRoaXMuc2VhcmNoQ3RybC52YWx1ZSkge1xuICAgICAgdGhpcy5maWx0ZXJSZXNvdXJjZXModGhpcy5zZWFyY2hDdHJsLnZhbHVlKTtcbiAgICB9XG5cbiAgICB0aGlzLnRhYmxlUm93cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzb3VyY2Ugb2YgdGhpcy5maWx0ZXJlZFJlc291cmNlcykge1xuICAgICAgY29uc3QgY2VsbHM6IENlbGxbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0aGlzLnJlc291cmNlRmllbGRzKSB7XG4gICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ3Jlc291cmNlJyxcbiAgICAgICAgICAgIHJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgIHRleHQ6IHJlc291cmNlW2ZpZWxkXSxcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVzb3VyY2VXaWR0aCA9IDEwMCAqIHRoaXMucmVzb3VyY2VGaWVsZHMubGVuZ3RoO1xuICAgICAgdGhpcy50YWJsZVJvd3MucHVzaCh7cmVzb3VyY2U6IHJlc291cmNlLCBpdGVtczogY2VsbHN9KTtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1IZWFkZXJzID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGkgPSB0aGlzLnN0YXJ0T2ZDYWxlbmRhci5jbG9uZSgpOyBpLmlzQmVmb3JlKHRoaXMuZW5kT2ZDYWxlbmRhcik7IGkuYWRkKDEsIFwiZGF5XCIpKSB7XG4gICAgICB0aGlzLml0ZW1IZWFkZXJzLnB1c2goe1xuICAgICAgICBkYXRlOiBpLmNsb25lKCksXG4gICAgICAgIGRheU9mV2VlazogaS5kYXkoKSxcbiAgICAgICAgY3VycmVudERhdGU6IGkuZGF0ZSgpLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCByb3cgb2YgdGhpcy50YWJsZVJvd3MpIHtcbiAgICAgIGZvciAoY29uc3QgaGVhZGVyIG9mIHRoaXMuaXRlbUhlYWRlcnMpIHtcbiAgICAgICAgY29uc3QgY2VsbDogQ2VsbCA9IHtcbiAgICAgICAgICB0eXBlOiAnaXRlbScsXG4gICAgICAgICAgcmVzb3VyY2U6IHJvdy5yZXNvdXJjZSxcbiAgICAgICAgICBoZWFkZXI6IGhlYWRlcixcbiAgICAgICAgICBpdGVtczogW10sXG4gICAgICAgIH07XG4gICAgICAgIHJvdy5pdGVtcy5wdXNoKGNlbGwpO1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXMuZmlsdGVyKHggPT4geC5yZXNvdXJjZV9pZCA9PT0gcm93Py5yZXNvdXJjZT8uaWQgJiYgKGhlYWRlci5kYXRlLmlzU2FtZSh4LnN0YXJ0X2RhdGUsICdkYXknKSB8fCAoaGVhZGVyLmRhdGUuaXNTYW1lKHRoaXMuc3RhcnRPZkNhbGVuZGFyLCAnZGF5JykgJiYgdGhpcy5zdGFydE9mQ2FsZW5kYXIuaXNBZnRlcih4LnN0YXJ0X2RhdGUpKSkpXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gbW9tZW50LmR1cmF0aW9uKGl0ZW0uZW5kX2RhdGUuZGlmZihpdGVtLnN0YXJ0X2RhdGUpKTtcbiAgICAgICAgICBjb25zdCBob3VycyA9IGR1cmF0aW9uLmFzSG91cnMoKTtcblxuICAgICAgICAgIGxldCBhZGRQaXhlbHMgPSAwO1xuICAgICAgICAgIGlmIChtb21lbnQoaXRlbS5lbmRfZGF0ZSkuaXNBZnRlcih0aGlzLmVuZE9mQ2FsZW5kYXIpKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXREdXJhdGlvbiA9IG1vbWVudC5kdXJhdGlvbih0aGlzLmVuZE9mQ2FsZW5kYXIuZGlmZihpdGVtLmVuZF9kYXRlKSk7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRIb3VycyA9IG9mZnNldER1cmF0aW9uLmFzSG91cnMoKTtcbiAgICAgICAgICAgIGFkZFBpeGVscyA9IG9mZnNldEhvdXJzIC8gMjQgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgc3Vic3RyYWN0ID0gMDtcbiAgICAgICAgICBpZiAodGhpcy5zdGFydE9mQ2FsZW5kYXIuaXNBZnRlcihpdGVtLnN0YXJ0X2RhdGUpKSB7XG4gICAgICAgICAgICBjb25zdCBpbkhvdXJzID0gbW9tZW50LmR1cmF0aW9uKHRoaXMuc3RhcnRPZkNhbGVuZGFyLmRpZmYoaXRlbS5zdGFydF9kYXRlKSlcbiAgICAgICAgICAgIGNvbnN0IGRpZmZIb3VycyA9IGluSG91cnMuYXNIb3VycygpO1xuICAgICAgICAgICAgc3Vic3RyYWN0ID0gZGlmZkhvdXJzIC8gMjQgKiB0aGlzLml0ZW1XaWR0aDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgY2VsbC5pdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgICAgICBfd2lkdGg6ICgoaG91cnMgLyAyNCkgKiB0aGlzLml0ZW1XaWR0aCkgKyBhZGRQaXhlbHMgLSBzdWJzdHJhY3QsXG4gICAgICAgICAgICBfbGVmdDogc3Vic3RyYWN0ID8gdGhpcy5pdGVtTGVmdCA6IHRoaXMuaXRlbVdpZHRoIC8gMjQgKiBtb21lbnQoaXRlbS5zdGFydF9kYXRlKS5nZXQoXCJob3Vyc1wiKSxcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMudW5hc3NpZ25lZEl0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoeCA9PiB4LnJlc291cmNlX2lkID09IG51bGwpLmZpbHRlcih4ID0+IHgudGV4dCA9PT0gXCJIT0xEXCIpXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUZvcm1TZWFyY2goKSB7XG4gICAgdGhpcy5zZWFyY2hDdHJsLnZhbHVlQ2hhbmdlc1xuICAgICAgLnBpcGUoXG4gICAgICAgIGRlYm91bmNlVGltZSgxMjUpLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSh2YWx1ZSA9PiB7XG4gICAgICAgIHRoaXMuZmlsdGVyUmVzb3VyY2VzKHZhbHVlKVxuICAgICAgICB0aGlzLmdlbmVyYXRlVGFibGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgLy8gQHRzLWlnbm9yZVxuICBwcml2YXRlIGZpbHRlclJlc291cmNlcyh2YWx1ZTogYW55KSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5maWx0ZXJlZFJlc291cmNlcyA9IHRoaXMucmVzb3VyY2VzLmZpbHRlcihyZXNvdXJjZSA9PiB7XG4gICAgICBjb25zdCB7Q2F0ZWdvcnksIENvZGUsIGlkLCBOdW1iZXJ9ID0gcmVzb3VyY2VcbiAgICAgIGNvbnN0IHJlc291cmNlSW5mb3JtYXRpb24gPSAoQ2F0ZWdvcnkgKyBDb2RlICsgaWQgKyBOdW1iZXIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gcmVzb3VyY2VJbmZvcm1hdGlvbi5pbmNsdWRlcyh2YWx1ZT8udG9Mb3dlckNhc2UoKSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJ0YWJsZS1vdXRlclwiPlxuICA8ZGl2IGNsYXNzPVwidGFibGUtaW5uZXJcIiAjdGFibGUgW25nU3R5bGVdPVwieydtYXJnaW4tbGVmdC5weCc6cmVzb3VyY2VXaWR0aH1cIj5cbiAgICA8dGFibGU+XG4gICAgICA8dHI+XG4gICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgZmllbGQgb2YgcmVzb3VyY2VGaWVsZHNcIiBjbGFzcz1cInJlc291cmNlLWhlYWRlclwiPnt7ZmllbGR9fTwvdGg+XG4gICAgICAgIDx0aCAqbmdGb3I9XCJsZXQgZGF0ZSBvZiBpdGVtSGVhZGVyc1wiIGNsYXNzPVwiaXRlbS1oZWFkZXJcIiBbc3R5bGUud2lkdGgucHhdPVwiaXRlbVdpZHRoXCJcbiAgICAgICAgICAgIFtjbGFzcy5jdXJyZW50RGF5XT1cImRhdGUuY3VycmVudERhdGUgPT0gY3VycmVudERhdGUuZ2V0RGF0ZSgpXCJcbiAgICAgICAgICAgIFtjbGFzcy53ZWVrZW5kXT1cImRhdGUuZGF5T2ZXZWVrPT0wIHx8IGRhdGUuZGF5T2ZXZWVrPT02XCI+XG4gICAgICAgICAge3sgZGF0ZS5kYXRlICAgfCBhbURhdGVGb3JtYXQgOiAnIE1NTSAgZCAnfX1cbiAgICAgICAgPC90aD5cbiAgICAgIDwvdHI+XG5cbiAgICAgIDx0ciAqbmdGb3I9XCJsZXQgcm93IG9mIHRhYmxlUm93c1wiPlxuICAgICAgICA8dGQgKm5nRm9yPVwibGV0IGNlbGwgb2Ygcm93Lml0ZW1zXCJcbiAgICAgICAgICAgIFtjbGFzcy5yZXNvdXJjZS1jZWxsXT1cImNlbGwudHlwZSA9PSAncmVzb3VyY2UnXCJcbiAgICAgICAgICAgIFtjbGFzcy5pdGVtLWNlbGxdPVwiY2VsbC50eXBlID09ICdpdGVtJ1wiXG4gICAgICAgICAgICBbY2xhc3Mud2Vla2VuZF09XCJjZWxsPy5oZWFkZXI/LmRheU9mV2VlayA9PSAwIHx8IGNlbGw/LmhlYWRlcj8uZGF5T2ZXZWVrID09IDZcIlxuICAgICAgICAgICAgW2NsYXNzLmN1cnJlbnREYXldPVwiY2VsbD8uaGVhZGVyPy5jdXJyZW50RGF0ZSA9PSBjdXJyZW50RGF0ZS5nZXREYXRlKClcIlxuICAgICAgICAgICAgW3N0eWxlLndpZHRoLnB4XT1cImNlbGwudHlwZSA9PSAnaXRlbScgJiYgaXRlbVdpZHRoIFwiXG4gICAgICAgICAgICBbc3R5bGUuaGVpZ2h0LnB4XT1cIihjZWxsLnR5cGUgPT09J2l0ZW0nIHx8IGNlbGwudHlwZSA9PT0gJ3Jlc291cmNlJykgJiYgaXRlbUhlaWdodFwiPlxuICAgICAgICAgIDxzcGFuICpuZ0lmPVwiIWNlbGwuaXRlbXMgfHwgY2VsbC5pdGVtcy5sZW5ndGggPT0gMFwiPnt7Y2VsbC50ZXh0fX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjZGVmYXVsdEl0ZW1UZW1wbGF0ZUNvbnRlbnQgbGV0LWl0ZW0+XG4gICAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cIml0ZW0udGVtcG9yYXJ5XCIgY2xhc3M9XCJjaGVjayBpY29uXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3tpdGVtPy5pZCA9PSBzZWxlY3RlZEl0ZW0/LmlkICYmIHJvdy5yZXNvdXJjZT8uaWQgPT0gc2VsZWN0ZWRJdGVtPy5yZXNvdXJjZV9pZCA/ICcnIDogaXRlbT8udGV4dCB9fVxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI2RlZmF1bHRJdGVtVGVtcGxhdGUgbGV0LWl0ZW0gbGV0LWk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlZmF1bHQtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiaXRlbUNsaWNrKGl0ZW0pXCJcbiAgICAgICAgICAgICAgICAgICAgIFtjbGFzcy5zZWxlY3RlZC1pdGVtXT1cIml0ZW0/LmlkID09IHNlbGVjdGVkSXRlbT8uaWQgICYmIHJvdy5yZXNvdXJjZS5pZCA9PSBzZWxlY3RlZEl0ZW0/LnJlc291cmNlX2lkXCJcbiAgICAgICAgICAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsgJ2xlZnQucHgnOiBpdGVtLl9sZWZ0LCAnd2lkdGgucHgnOiBpdGVtLl93aWR0aCwgJ2JhY2tncm91bmQtY29sb3InOiBpdGVtPy5jb2xvcn1cIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0XT1cIml0ZW1Db250ZW50VGVtcGxhdGVSZWYgfHwgZGVmYXVsdEl0ZW1UZW1wbGF0ZUNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgIFtuZ1RlbXBsYXRlT3V0bGV0Q29udGV4dF09XCJ7ICRpbXBsaWNpdDogaXRlbSwgaW5kZXg6IGl9XCI+XG4gICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgaXRlbSBvZiBjZWxsLml0ZW1zO2xldCBpPWluZGV4XCJcbiAgICAgICAgICAgICAgICBbbmdUZW1wbGF0ZU91dGxldF09XCJpdGVtVGVtcGxhdGVSZWYgfHwgZGVmYXVsdEl0ZW1UZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cInsgJGltcGxpY2l0OiBpdGVtLCBpbmRleDogaX1cIj5cbiAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC90ZD5cbiAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sIHRleHQtcmlnaHQgbXItMlwiPlxuICAgICAge3t0aGlzLnN0YXJ0T2ZDYWxlbmRhciAgfCBhbURhdGVGb3JtYXR9fVxuICAgICAgPHN2ZyBzdHlsZT1cIndpZHRoOjI0cHg7aGVpZ2h0OjI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTE0IDE2Ljk0VjEyLjk0SDUuMDhMNS4wNSAxMC45M0gxNFY2Ljk0TDE5IDExLjk0WlwiLz5cbiAgICAgIDwvc3ZnPlxuICAgICAge3t0aGlzLmVuZE9mQ2FsZW5kYXIgIHwgYW1EYXRlRm9ybWF0IH19XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjxkaXYgY2xhc3M9XCJuby1jYXItZXhpc3RzXCIgKm5nSWY9XCJmaWx0ZXJlZFJlc291cmNlcy5sZW5ndGggPT0gMFwiPlxuICB7e3RoaXMuZmlsdGVyZWRSZXNvdXJjZXMubGVuZ3RoID09IDAgPyBcIk5vIHJlc3VsdHMgZm91bmQgd2l0aCB0aGlzIGNhciByZXNvdXJjZVwiIDogXCJcIn19XG48L2Rpdj5cbiJdfQ==